{% extends "recall/base.html" %}
{% block title %}管理我的词库{% endblock %}
{% load bootstrap %}
{% block content %}


    <script type="text/javascript"><!--

        var formblock;
        var forminputs;

        function prepare() {
          formblock= document.getElementById('form_id');
          forminputs = formblock.getElementsByTagName('input');
        }

        function select_all(name, value) {
          for (i = 0; i < forminputs.length; i++) {
            // regex here to check name attribute
            var regex = new RegExp(name, "i");
            if (regex.test(forminputs[i].getAttribute('name'))) {
              if (value == '1') {
                forminputs[i].checked = true;
              } else {
                forminputs[i].checked = false;
          }
            }
          }
        }

        if (window.addEventListener) {
          window.addEventListener("load", prepare, false);
        } else if (window.attachEvent) {
          window.attachEvent("onload", prepare)
        } else if (document.getElementById) {
          window.onload = prepare;
        }

//--></script>



<form role="form" id="form_id" name="myform" method="post" action="{% url 'word:set_word_status' %}">
    {% csrf_token %}
    <a href="#" onClick="select_all('_selected_action', '1');">全选</a> |
    <a href="#" onClick="select_all('_selected_action', '0');">取消全选</a> |
    <a href="{{ url_frequency_filter_mine }}">显示我的所有生词（根据全网词频统计）</a> |
    <input type="submit" value="标记为熟词"/>
    <br><br>
    <P>此网页中，您的生单词共计:{{ pi.count }}个</P>
    <table class="table table-bordered" data-toggle="table" data-url="data1.json" data-cache="false" data-height="299">
        <thead>
            <tr>
                <th>单词</th>
                <th>全网词频</th>
                <th>翻译</th>
            </tr>
        </thead>
        <tbody>
            {% if top_word %}
                <tr>
                    <td><input name="_selected_action" type="checkbox" value="{{ top_word.id }} " checked>{{ top_word.spelling }}</td>
                    <th class="field-spelling">{{ top_word.repeated }}</th>
                    <th class="field-spelling"><a href="http://translate.google.cn/?hl=zh-CN&tab=wT#en/zh-CN/{{ top_word.spelling }}">Google 翻译</a></th>
                </tr>
            {% endif %}
            {% for word in words%}
                <tr>
                    <td><input name="_selected_action" type="checkbox" value="{{ word.id }}">{{ word.spelling }}</td>
                    <th class="field-spelling">{{ word.repeated }}</th>
                    <th class="field-spelling"><a href="http://translate.google.cn/?hl=zh-CN&tab=wT#en/zh-CN/{{ word.spelling }}">Google 翻译</a></th>
                </tr>
            {% endfor %}

        </tbody>
    </table>
    <input type="submit" value="标记为熟词"/>
</form>
    <div class="pagination">
    <span class="step-links">
        {% if words.has_previous %}
            <a href="{{ pre_page_url }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ words.number }} of {{ words.paginator.num_pages }}.
        </span>

        {% if words.has_next %}
            <a href="{{ next_page_url }}">next</a>
        {% endif %}
    </span>
</div>
</div>

{% endblock %}